# TideControls

## æ³¨æ„äº‹é¡¹

* **è¯·ä½¿ç”¨foxgloveå–ä»£rvizå’Œrqt**
* è¯·æ ¹æ®éœ€è¦è‡ªè¡Œé…ç½®foxgloveé¢æ¿ï¼Œå¦‚æœå¯è§†åŒ–çš„æ¨¡å‹é”™ä¹±ï¼Œè¯·å°†```é¢æ¿->åœºæ™¯->ç½‘ç»œä¸Šè½´```é€‰é¡¹è®¾ç½®ä¸º```z-up```
* è¿è¡Œè®¾å¤‡éœ€è¦æ›´æ¢rtå®æ—¶å†…æ ¸ï¼Œæ¨è[xanmod-rtå†…æ ¸](https://xanmod.org/)ğŸ‘
* ç¼–è¯‘å‘½ä»¤```./build.sh all```(å…¨ç¼–è¯‘)ã€```./build.sh package```(ç¼–è¯‘å•ä¸ªåŒ…ï¼Œpackageä¸ºä½ è¦ç¼–è¯‘çš„åŒ…å)
* è‹¥éœ€è¦debugè°ƒè¯•ï¼Œç¼–è¯‘æ—¶è¯·æ·»åŠ  **--debug** å‚æ•°ï¼Œå¦‚```./build.sh all --debug```ï¼Œå¹¶åœ¨vscodeçš„å·¦ä¾§è°ƒè¯•é€‰é¡¹ä¸­é€‰æ‹© [launch.json](.vscode/launch.json) é…ç½®æ–‡ä»¶
* canè®¾å¤‡ä½¿èƒ½å‘½ä»¤```./enable_socketcan can0```(å•ä¸ªä½¿èƒ½ï¼Œcan0ä¸ºéœ€è¦ä½¿èƒ½çš„ç«¯å£)ã€```./enable_socketcan all```å…¨éƒ¨ä½¿èƒ½(é»˜è®¤åªæœ‰can0å’Œcan1,è‹¥è¶…è¿‡ä¸¤ä¸ªcanè®¾å¤‡è¯·ä¿®æ”¹è„šæœ¬)
*  è¿è¡Œä»¿çœŸï¼š```ros2 launch tide_ctrl_bringup tide_ctrl_bringup.launch.py sim_mode:=true robot_type:=sentry world:=RMUL2025```(æœºå™¨äººç±»å‹å’Œgazeboåœ°å›¾æ¨¡å‹ä¿®æ”¹ä¸ºä½ éœ€è¦çš„)
 * å¦‚æœå«Œgazeboå¤ªå¡ï¼Œä¸éœ€è¦gazeboä»¿çœŸï¼Œè¯·å°†å…µç§_real.xacroä¸­çš„```enable_virtual_control```å‚æ•°è®¾ç½®ä¸º```true```ï¼Œå¹¶å°†å…µç§_real.yamlä¸­çš„```open_loop```å‚æ•°è®¾ç½®ä¸º```true```ï¼ˆéœ€è¦æ§åˆ¶çœŸå®ç¡¬ä»¶æ—¶è¯·æ”¹ä¸ºfalseå…³é—­å¼€ç¯æ¨¡å¼ï¼‰,ç„¶å```è¿è¡Œå®è½¦```,æ‰“å¼€```foxgolve```å¯è§†åŒ–è½¯ä»¶å³å¯ï¼Œæ— éœ€æ‹…å¿ƒç–¯è½¦ï¼Œå› ä¸ºè¿™ä¸ä¼šå¯ç”¨çœŸå®ç¡¬ä»¶
*  âš ï¸è¿è¡Œå®è½¦ï¼š```ros2 launch tide_ctrl_bringup tide_ctrl_bringup.launch.py sim_mode:=false robot_type:=sentry```

âš ï¸ï¼šç¬¬ä¸€æ¬¡è¿è¡Œå®è½¦å‰ï¼Œå¦‚æœéœ€è¦æ§åˆ¶çœŸå®ç¡¬ä»¶ï¼Œè¯·å°†å…µç§_real.xacroä¸­çš„```enable_virtual_control```å‚æ•°è®¾ç½®ä¸º```false```å…³é—­è™šæ‹Ÿæ§åˆ¶ï¼Œä»¥åŠ```need_calibration```å‚æ•°è®¾ç½®ä¸º```true```å¼€å¯æ ¡å‡†æ¨¡å¼ï¼Œæ‰‹åŠ¨å°†äº‘å°æ‘†æ”¾åˆ°ä½ æœŸæœ›çš„åˆå§‹ä½ç½®ï¼Œå°†ç»ˆç«¯è¾“å‡ºç»“æœå¡«åˆ°å¯¹åº”ç”µæœºå…³èŠ‚çš„```offset```å‚æ•°ï¼ˆè¾ƒçƒ¦çå¾…ä¼˜åŒ–ï¼‰ï¼Œå¦åˆ™ä¼šæœ‰ç–¯è½¦é£é™©ï¼ï¼


## å®‰è£…ä¾èµ–
```
rosdepc install -r --from-paths src --ignore-src --rosdistro $ROS_DISTRO -y
```
